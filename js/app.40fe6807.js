(function(t){function e(e){for(var s,n,l=e[0],o=e[1],u=e[2],h=0,d=[];h<l.length;h++)n=l[h],i[n]&&d.push(i[n][0]),i[n]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s]);c&&c(e);while(d.length)d.shift()();return r.push.apply(r,u||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],s=!0,l=1;l<a.length;l++){var o=a[l];0!==i[o]&&(s=!1)}s&&(r.splice(e--,1),t=n(n.s=a[0]))}return t}var s={},i={app:0},r=[];function n(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=s,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(a,s,function(e){return t[e]}.bind(null,s));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],o=l.push.bind(l);l.push=e,l=l.slice();for(var u=0;u<l.length;u++)e(l[u]);var c=o;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0b5b":function(t,e,a){"use strict";var s=a("eff7"),i=a.n(s);i.a},1581:function(t,e,a){"use strict";var s=a("38a0"),i=a.n(s);i.a},"38a0":function(t,e,a){},5411:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);var s=a("2b0e"),i=a("bb71");a("da64");s["a"].use(i["a"],{iconfont:"md"});var r=a("cb43"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("Loading"),a("v-toolbar",{attrs:{app:""}}),a("v-content",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs6:""}},[a("Form")],1),a("v-flex",{attrs:{height:"100%",xs6:""}},[a("v-card",{staticClass:"wrapper"},[a("LineChart",{attrs:{chartData:t.chartData,xAxisText:"Gymnast",yAxisText:"Score"}}),a("v-btn",{staticClass:"clear",on:{click:function(e){t.chartData=[]}}},[t._v("Clear")])],1)],1),a("v-flex",{staticClass:"results",attrs:{xs12:""}},[a("Results")],1)],1)],1)],1)},l=[],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{height:"100%"}},[a("v-card-title",{attrs:{"primary-title":""}},[a("span",{staticClass:"headline"},[t._v("Search for results")])]),a("v-form",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs8:"","offset-xs1":""}},[a("v-select",{attrs:{items:t.competitionsReversed,"item-text":"title","item-value":"id",label:"Competitions",dense:""},model:{value:t.id,callback:function(e){t.id=e},expression:"id"}})],1),a("v-flex",{attrs:{xs4:"","offset-xs1":""}},[a("v-select",{attrs:{items:t.disciplines,"item-text":"name","item-value":"value",label:"Discipline",dense:""},model:{value:t.discipline,callback:function(e){t.discipline=e},expression:"discipline"}})],1),a("v-flex",{attrs:{xs4:"","offset-xs1":""}},[a("v-select",{attrs:{items:t.getCategory,"item-text":"name","item-value":"value",label:"Category",dense:""},model:{value:t.category,callback:function(e){t.category=e},expression:"category"}})],1)],1)],1),a("v-card-actions",[a("v-btn",{attrs:{flat:""},on:{click:t.getData}},[t._v("Submit")])],1)],1)},u=[],c=a("2f62"),h={name:"Form",data(){return{json:{},id:14806,discipline:10,category:81,disciplines:[{name:"Trampoline Senior",value:10},{name:"Tumbling Senior",value:16},{name:"Double-Mini Senior",value:22}],categories:{10:[{name:"Men Individual",value:81},{name:"Women Individual",value:82},{name:"Men Synchro",value:83},{name:"Women Synchro",value:84},{name:"Men Team Trampoline",value:85},{name:"Women Team Trampoline",value:86}],16:[{name:"Men Tumbling",value:87},{name:"Women Tumbling",value:88},{name:"Men Team Tumbling",value:89},{name:"Women Team Tumbling",value:90}],22:[{name:"Men Double-Mini",value:91},{name:"Women Double-Mini",value:92},{name:"Men Team Double-Mini",value:93},{name:"Women Team Double-Mini",value:94}]}}},computed:{...Object(c["b"])(["competitions"]),getCategory(){return this.categories[this.discipline]},competitionsReversed(){return this.competitions.slice().reverse()}},methods:{getData(){const t={discipline:this.discipline,category:this.category,id:this.id};this.$store.dispatch("fetchResults",t)}},beforeMount(){this.$store.dispatch("fetchResultForms",{from:"",to:""})}},d=h,m=(a("ce32"),a("2877")),p=a("6544"),f=a.n(p),v=a("8336"),g=a("b0af"),x=a("99d9"),b=a("12b2"),y=a("0e8f"),w=a("4bd4"),_=a("a722"),A=a("b56d"),T=Object(m["a"])(d,o,u,!1,null,"7e6726cb",null);T.options.__file="Form.vue";var C=T.exports;f()(T,{VBtn:v["a"],VCard:g["a"],VCardActions:x["a"],VCardTitle:b["a"],VFlex:y["a"],VForm:w["a"],VLayout:_["a"],VSelect:A["a"]});var j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-content",[a("v-data-table",{staticClass:"elevation-4",attrs:{headers:t.headers,items:t.resultsList,"hide-actions":""},scopedSlots:t._u([{key:"headers",fn:function(e){return[a("tr",t._l(e.headers,function(e){return a("th",[t._v(t._s(e))])}))]}},{key:"items",fn:function(e){return t._l(e.item,function(e){return a("td",{staticClass:"subheading"},[t._v(t._s(e))])})}}])})],1)},D=[],S={name:"Results",data(){return{headers:[],resultsList:[]}},computed:{...Object(c["b"])(["results"])},watch:{results(){this.results&&(this.headers=Object.keys(this.results[0]),this.resultsList=this.results)}},methods:{}},$=S,O=(a("0b5b"),a("549c")),k=a("8fea"),M=Object(m["a"])($,j,D,!1,null,"3d56b006",null);M.options.__file="Results.vue";var V=M.exports;f()(M,{VContent:O["a"],VDataTable:k["a"]});var L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.loading?a("div",{staticClass:"loading",class:{active:t.loading}},[a("v-progress-circular",{attrs:{size:100,color:"primary",indeterminate:""}})],1):t._e()},F=[],R={name:"Loading",data(){return{}},computed:{...Object(c["b"])(["loading"])},watch:{loading(){}},methods:{},beforeMount(){}},G=R,E=(a("5b4f"),a("490a")),z=Object(m["a"])(G,L,F,!1,null,"f33dedda",null);z.options.__file="Loading.vue";var W=z.exports;f()(z,{VProgressCircular:E["a"]});var P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"line-chart__wrapper"},[a("svg")])},q=[],B=a("5698");function H(t){return{}.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}var I={name:"LineChart",props:{chartData:Array,xAxis:{type:String,default:()=>"x"},yAxis:{type:String,default:()=>"y"},xAxisText:String,yAxisText:String},data(){return{duration:500,svg:null,g:null,margin:{top:20,right:20,bottom:30,left:50},width:0,height:0,parseTime:B["n"]("%Y%m%d"),xAxisG:null,yAxisG:null}},mounted(){this.width=this.$el.offsetWidth,this.height=this.$el.offsetHeight,window.addEventListener("resize",this.onResize),this.svg=B["m"]("svg"),this.init(),this.update(this.chartData,[])},computed:{xAxisType(){return this.chartData&&0!==this.chartData.length?H(this.chartData[0].values[0][this.xAxis]):null},padded(){const t=this.width-this.margin.left-this.margin.right,e=this.height-this.margin.top-this.margin.bottom;return{w:t,h:e}},x(){const t={date:B["k"]().range([0,this.padded.w]),number:B["i"]().range([0,this.padded.w])};return t[this.xAxisType]},y(){return B["i"]().range([this.padded.h,0])},z(){return B["j"](B["l"])},line(){return B["f"]().curve(B["c"]).x(t=>this.x(t[this.xAxis])).y(t=>this.y(t[this.yAxis]))}},watch:{chartData(t,e){this.update(t,e)}},methods:{onResize(){this.width=this.$el.offsetWidth,this.height=this.$el.offsetHeight,this.update(this.chartData,[])},init(){this.svg.attr("height",this.height).attr("width",this.width),this.g=this.svg.append("svg:g").attr("height",this.padded.h).attr("width",this.padded.w).attr("transform",`translate(${this.margin.left}, ${this.margin.top})`),this.xAxisG=this.g.append("svg:g").attr("class","axis axis--x"),this.yAxisG=this.g.append("svg:g").attr("class","axis axis--y"),this.yAxisG.append("svg:text").attr("transform","rotate(-90)").attr("y",6).attr("dy","0.71em").attr("fill","#000").text(this.yAxisText)},update(t,e){if(!t||0===t.length)return this.redraw([]);this.x.domain(B["e"](t[0].values,t=>t[this.xAxis])),this.y.domain([B["h"](t,t=>B["h"](t.values,t=>t[this.yAxis])),B["g"](t,t=>B["g"](t.values,t=>t[this.yAxis]))]),this.z.domain(t.map(t=>t.id)),this.xAxisG.call(B["a"](this.x)).attr("transform",`translate(0, ${this.padded.h})`),this.yAxisG.call(B["b"](this.y)),this.isEqual(t,e),this.redraw(t)},isEqual(t,e){return t.length===e.length&&(t.length!==e.length||t[0].values.length===e[0].values.length)},animateDraw(t){this.g.selectAll(".dataline").exit();const e=this.g.selectAll(".dataline").data(t).enter();e.select("path").attr("d",t=>{return this.line(t.values)}).style("stroke",t=>this.z(t.id))},redraw(t){if(this.g.selectAll(".dataline").remove().exit(),!t||0===t.length)return;const e=this.g.selectAll(".dataline").data(t).enter().append("svg:g").attr("class","dataline");e.append("svg:path").attr("class","line").attr("d",t=>this.line(t.values)).style("stroke",t=>this.z(t.id)).style("stroke-width","2px").style("transition","all 0.1s ease").style("fill","none").call(this.events),e.append("svg:text").datum(t=>({id:t.id,value:t.values[t.values.length-1]})).attr("transform",t=>`translate(${this.x(t.value[this.xAxis])}, ${this.y(t.value[this.yAxis])})`).attr("x",3).attr("dy","0.35em").style("font","10px sans-serif").text(t=>t.id)},events(t){t.on("mouseover",this.mouseover).on("mouseout",this.mouseout)},mouseover(){B["m"](B["d"].target).style("cursor","pointer").style("stroke-width","5px")},mouseout(){B["m"](B["d"].target).style("cursor","default").style("stroke-width","2px")}}},J=I,Q=(a("770f"),Object(m["a"])(J,P,q,!1,null,"13af12a6",null));Q.options.__file="line-chart.vue";var U=Q.exports,Y={name:"App",components:{Form:C,Results:V,Loading:W,LineChart:U},computed:{...Object(c["b"])(["results"])},watch:{results(){let t=[...this.results.map((t,e)=>({x:e,y:parseFloat(t["Score Qualif."])||0}))];t.sort((t,e)=>{const a=parseFloat(t),s=parseFloat(e);return a>s?1:a<s?-1:0}).reverse(),this.id++,this.chartData.push({id:this.id,values:t})}},data(){return{chartData:[],id:1}}},Z=Y,K=(a("1581"),a("7496")),N=a("71d9"),X=Object(m["a"])(Z,n,l,!1,null,"22e7b27e",null);X.options.__file="App.vue";var tt=X.exports;f()(X,{VApp:K["a"],VBtn:v["a"],VCard:g["a"],VContent:O["a"],VFlex:y["a"],VLayout:_["a"],VToolbar:N["a"]});const et=a("1157"),at={results:null},st={results(t){return t.results}},it={results(t,e){t.results=e}},rt={fetchResults({commit:t},e){return t("loading",!0),new Promise(a=>{et.ajax({method:"GET",url:`https://database.fig-gymnastics.com/public/results/display/${e.id}?backUrl=&idAgeCategory=${e.discipline}&idCategory=${e.category}`}).then(e=>{let s=et(e).find("tr").get().map(t=>{return et(t).find("th").get().length>0?et(t).find("th").get().map(t=>et(t).html().replace(/<br>/g," ")):et(t).find("td").get().map(t=>et(t).html())});const i=s.shift();let r=s.map(t=>{let e=t.reduce((t,e,a)=>{return t[i[a]]=et(e).filter("a").html()||e.replace(/\s/g,""),t},{});return e});t("loading",!1),t("results",r),a()})})}};var nt={state:at,getters:st,mutations:it,actions:rt};const lt=a("1157"),ot="http://www.fig-gymnastics.com/api/sportevents?level=6&discipline=5&ageGroupType=2",ut={competitions:[]},ct={competitions(t){return t.competitions}},ht={competitions(t,e){t.competitions=e}},dt={fetchResultForms({commit:t},e){const a=ot+`&from=${e.from}&to=${e.to}`;lt.ajax({method:"GET",url:a}).then(e=>{const a=e.data.map(t=>{return{id:t.id,title:t.title,hasresults:t.hasresults}});t("competitions",a)})}};var mt={state:ut,getters:ct,mutations:ht,actions:dt};const pt={loading:!1},ft={loading(t,e){t.loading=e}},vt={loading(t){return t.loading}};var gt={state:pt,mutations:ft,getters:vt};s["a"].use(c["a"]);const xt=!1,bt=new c["a"].Store({modules:{results:nt,form:mt,loading:gt},strict:xt});var yt=bt;a("1157");s["a"].config.productionTip=!1,s["a"].use(r["default"]),new s["a"]({store:yt,render:t=>t(tt)}).$mount("#app")},"5b4f":function(t,e,a){"use strict";var s=a("bfd4"),i=a.n(s);i.a},"770f":function(t,e,a){"use strict";var s=a("ab20"),i=a.n(s);i.a},ab20:function(t,e,a){},bfd4:function(t,e,a){},ce32:function(t,e,a){"use strict";var s=a("5411"),i=a.n(s);i.a},eff7:function(t,e,a){}});
//# sourceMappingURL=app.40fe6807.js.map